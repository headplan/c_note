# 变量

#### 总结

```
在程序执行过程中存储数据的存储单元
变量的值是可变的
C语言中每一个变量都有一个类型(type)
类型说明变量所存储的数据的类别，比如整形int，浮点形float，等等

程序中定义的每个变量都会被分配一块内存空间
变量名就是这个这块内存空间的别名(alias)
```

变量\(Variable\)是编程语言中最重要的概念之一 , 变量是计算机存储器中的一块命名的空间 , 可以在里面存储一个值\(Value\) , 存储的值是可以随时变的 , 比如这次存个字符'a'下次存个字符'b' , 正因为变量的值可以随时变所以才叫变量 .

C 中每个变量都有特定的类型 , 类型决定了变量存储的大小和布局 , 该范围内的值都可以存储在内存中 , 运算符可应用于变量上 . 变量的名称可以由字母、数字和下划线字符组成 . 它必须以字母或下划线开头 , 大写字母和小写字母是不同的 , 因为 C 是大小写敏感的 . 这些规则不仅适用于变量名 , 也适用于所有可以由程序员起名字的语法元素 . 函数名、宏定义、结构体成员名等等 , 在C语言中这些统称为标识符\(Identifier\) .

前面提到过 , C99规定了一些不能作为标识符的关键字 . 这里要注意一下 . 以下划线开头的标识符也尽量禁用 , 他们往往被编译器用作一些功能扩展 .

有以下几种基本的变量类型 :

| 类型 | 描述 |
| :--- | :--- |
| char | 通常是一个字节（八位）。这是一个整数类型。 |
| int | 对机器而言，整数的最自然的大小。 |
| float | 单精度浮点值。单精度是这样的格式，1位符号，8位指数，23位小数。![](http://www.runoob.com/wp-content/uploads/2014/09/v2-749cc641eb4d5dafd085e8c23f8826aa_hd.png) |
| double | 双精度浮点值。双精度是1位符号，11位指数，52位小数。![](http://www.runoob.com/wp-content/uploads/2014/09/v2-48240f0e1e0dd33ec89100cbe2d30707_hd.png) |
| void | 表示类型的缺失。 |

C 语言也允许定义各种其他类型的变量 , 比如枚举、指针、数组、结构、共用体等等 .

#### C中的变量定义

变量定义就是告诉编译器在何处创建变量的存储 , 以及如何创建变量的存储 . 变量定义指定一个数据类型 , 并包含了该类型的一个或多个变量的列表 :

```
type variable_list;
```

**type**必须是一个有效的 C 数据类型 , 可以是 char、w\_char、int、float、double、bool 或任何用户自定义的对象 , **variable\_list**可以由一个或多个标识符名称组成 , 多个标识符之间用逗号分隔 :

```
int    i, j, k;
char   c, ch;
float  f, salary;
double d;
```

行`int i, j, k;`声明并定义了变量 i、j 和 k , 这指示编译器创建类型为 int 的名为 i、j、k 的变量 .

变量可以在声明的时候被初始化\(指定一个初始值\) . 初始化器由一个等号，后跟一个常量表达式组成 :

```
type variable_name = value;
```

```
extern int d = 3, f = 5;    // d 和 f 的声明与初始化
int d = 3, f = 5;           // 定义并初始化 d 和 f
byte z = 22;                // 定义并初始化 z
char x = 'x';               // 变量 x 的值为 'x'
```

> 不带初始化的定义 : 带有静态存储持续时间的变量会被隐式初始化为 NULL\(所有字节的值都是 0\) , 其他所有变量的初始值是未定义的 .

#### C中的变量声明

变量声明向编译器保证变量以指定的类型和名称存在 , 这样编译器在不需要知道变量完整细节的情况下也能继续进一步的编译 . 变量声明只在编译时有它的意义 , 在程序连接时编译器需要实际的变量声明 .

变量的声明有两种情况 :

* 一种是需要建立存储空间的 . 例如 : int a 在声明的时候就已经建立了存储空间 . 
* 另一种是不需要建立存储空间的 , 通过使用extern关键字声明变量名而不定义它 . 例如 : extern int a 其中变量 a 可以在别的文件中定义的 . 

所以 , 除非有extern关键字 , 否则都是变量的定义 .

```
extern int i; //声明，不是定义
int i; //声明，也是定义
```

**实例**

```c
#include <stdio.h>

// 变量声明
extern int a, b;
extern int c;
extern float f;

int main()
{
    // 定义变量
    int a, b;
    int c;
    float f;

    // 初始化
    a = 10;
    b = 20;

    c = a + b;
    printf("变量c:%d \n", c);
    f = 70.0/3.0;
    printf("变量f:%f \n", f);

    return 0 ;
}
```

实例代码被编译和执行时 :

```
变量c:30 
变量f:23.333334
```

**定义\(Definition\)和声明\(Declaration\)之间的关系是 : 定义是声明的一种 , 如果一个声明要求分配存储空间 , 则称为定义 . **



